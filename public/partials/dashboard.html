<div ng-include="'partials/navbar.html'"></div>
<div class="container center-block">
        <div class="col-sm-12 col-md-12 col-lg-12 row">
            <div id="map" class="map col-sm-12 col-md-12 col-lg-12"></div>
        </div>
</div>

<div class="container center-block">
    <div class="col-sm-12 col-md-12 col-lg-12 row">
        <br/>
        <div class="col-md-2">
            <span class="search-label">Search Events:</span>
        </div>
       
        <div class="col-md-3">
            <input id="searchText" name="searchText" type="text" placeholder="Search Event" class="form-control input-md" ng-model="search.query">
        </div>
       
        <div class="col-md-3">
            <input id="searchCategory" name="searchCategory" type="text" placeholder="Search by category" class="form-control input-md" ng-model="search.cat">
        </div>
        <!-- Text input-->
        <div class="col-md-3">
            <input id="searchLocation" name="searchLocation" type="text" placeholder="Search by location" class="form-control input-md" ng-model="search.loc">
        </div>

        <!-- Button -->
        <div class="col-md-1">
            <button id="singlebutton" ng-click="searchEvents(search)" name="singlebutton" class="btn btn-primary">Search</button>
        </div>
    </div>
</div>
<div class="container center-block">
        <div class="col-sm-12 col-md-12 col-lg-12 row">
            <h1 class="page-header">
                Welcome to Social Compass!
            </h1>
            <div ng-repeat = "e in dataPerPage"  class="col-sm-3">
                <div class="card">
                    <canvas class="header-bg" width="250" height="70" id="header-blur"></canvas>
                    <div class="avatar" ng-if="e.image==null">
                        <img src="../images/no-image.jpg"/>
                    </div>

                    <div class="avatar" ng-if="e.image!==null">
                       <img src="{{e.image.medium.url}}"/>
                    </div>
                    <div class="content">
                        <h4>
                            <a href="/#event/{{e.id}}/{{e.latitude}}/{{e.longitude}}" alt="{{e.title}}">
                                {{e.title | limitTo: 40}} {{e.title.length > 40 ? '...' : ''}}
                            </a>
                        </h4>
                        <p class="details">Location: {{e.venue_name}}, {{e.city_name}} </p>
                        <p>
                            <a href="/#event/{{e.id}}/{{e.latitude}}/{{e.longitude}}"  class="btn btn-default">Go to the Event</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

    </div>        

    <div class="container center-block">
        <ul class="pagination">
            <li ng-repeat="i in array" ng-click="paginate($event,i)"  ng-class="{'active': isActive(i)}"><a>{{i}}</a></li>
        </ul>
    </div>
<div class="container center-block">
    
    <img class="loading center-block" ng-if="loading" src="../images/gears.gif" height="150" width="150"/>
    <h3 class="loading-sentence center-block" ng-if="loading">Please wait.Retreiving events close to you....</h3>
</div>